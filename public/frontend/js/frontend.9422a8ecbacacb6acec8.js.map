{"version":3,"file":"js/frontend.9422a8ecbacacb6acec8.js","mappings":";;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,sDAAsD,oBAAoB,6BAA6B;AACvG;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,EAAE;AACF;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,GAAG;AACH,EAAE;AACF;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,EAAE;AACF;;AAEA;;;;;;;;;;AClLA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,aAAa,SAAS;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sCAAsC,aAAa;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,OAAO;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA,wBAAwB;AACxB;AACA,uDAAuD;AACvD,kBAAkB,iBAAiB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B,kCAAkC;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;AC/dA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,KAAK,sDAAsD;;AAE3D;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,6BAA6B,cAAc;AAC3C,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,mBAAmB;;AAExD;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,+BAA+B;AAChD,KAAK;AACL,iBAAiB,+BAA+B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,uBAAuB,0BAA0B;AACjD;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,qBAAqB;AACrB,qBAAqB;AACrB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA,EAAE;;AAEF;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,CAAC;;;;;;;UEviBD;UACA;UACA;UACA;UACA;UACA;UACA;UACA","sources":["webpack:///./resources/js/ajax_submit.js","webpack:///./resources/js/frontend/filters.js","webpack:///./resources/js/frontend/frontend.js","webpack:///webpack/before-startup","webpack:///webpack/startup","webpack:///webpack/after-startup"],"sourcesContent":["/**\n * Submit'ina forma, ir jeigu buvo klaidu - jas parodo, jei ne - redirektina. Daugiausiai naudojama backende.\n */ \n\nfunction ajaxLoaderShow(selector) {\n\tif ($('#ajax_loader').length) {\n\t\t$('#ajax_loader').show();\n\t} else {\n\t\theight = $(selector).innerHeight();\n\t\twidth = $(selector).innerWidth();\n\t\t$(selector).prepend('<div style=\"width:'+width+'px; height:'+height+'px;\" class=\"ajax_overlay\">&nbsp;<\\/div>');\n\t}\n}\nwindow.ajaxLoaderShow = ajaxLoaderShow;\n\nfunction ajaxLoaderHide(selector) {\n\t$('#ajax_loader').hide();\n\t$(selector+' .ajax_overlay').remove();\n}\n\nwindow.ajaxLoaderHide = ajaxLoaderHide;\n\n\nfunction setAjaxSubmit(selector, config) {\n\t\n\tif (typeof(config)=='undefined') {\n\t\tvar config = new Array();\n\t}\n\tif (typeof(config['error_tag'])=='undefined') {\n\t\tconfig['error_tag'] = 'span';\n\t}\n\tif (typeof(config['error_class'])=='undefined') {\n\t\tconfig['error_class'] = 'field_error_message';\n\t}\n\t\n\t$(document).ready(function() { \n\t\tif (typeof(tinyMCE)=='object') {\n\t\t\t$(selector).bind('form-pre-serialize', function(e) {\n\t\t\t    tinyMCE.triggerSave();\n\t\t\t});\t\t\n\t\t}\n\t\t\n\t\tform_url = $(selector).attr('action');\n\t\tif (form_url.match(/\\?/)) {\n\t\t\tform_url += '&';\n\t\t} else {\n\t\t\tform_url += '?';\n\t\t}\n\t\tform_url += 'ajax_submit';\n\t\t\n\t\tvar options = { \n\t\t\tbeforeSubmit : function() {\n\t\t\t\tajaxLoaderShow(selector);\n\t\t\t},\n\t\t\tsuccess: function(responseText, statusText) {\n\t\t\t\tajaxLoaderHide(selector);\n\t\t\t\tif (responseText) {\n\t\t\t\t \t$(config['error_tag']+'.'+config['error_class']).remove();\n\t\t\t\t \t$(selector+' .alert-danger').remove();\n\t\t\t\t\t$(selector+' .error').removeClass('error');\n\t\t\t\t\tvar errors = Array();\n\t\t\t\t\ttry{\n\t\t\t\t\t\terrors = $.evalJSON(responseText);\n\t\t\t\t\t}catch(error){\n\t\t\t\t\t\talert(validationErrorMsg +'\\r\\n'+ responseText);\n\t\t\t\t\t}\n\t\t\t\t \terror_str = \"\";\n\t\t\t\t \tif (typeof(errors.return_url)!='undefined') {\n\t\t\t\t \t\tdocument.location = errors.return_url;\n\t\t\t \t\t} else\n\t\t\t\t \tfor (i in errors) {\n\t\t\t\t \t\tel = $(selector+' [name='+i+']:first');\n\t\t\t \t\t\tif (!el.length) {\n\t\t\t \t\t\t\tmsg = '';\n\t\t\t \t\t\t\tif (errors[i].label) {\n\t\t\t \t\t\t\t\tmsg += errors[i].label+': ';\n\t\t\t \t\t\t\t}\n\t\t\t \t\t\t\tmsg += errors[i].message;\n\t\t\t \t\t\t\terror_str += (msg+'<br/>');\n\t\t\t \t\t\t} else {\n\t\t\t\t\t \t\tel.addClass('error');\n\t\t\t\t\t \t\tel.parent().append('<'+config['error_tag']+' class=\"'+config['error_class']+'\">'+errors[i].message+'<\\/'+config['error_tag']+'>');\n\t\t\t\t \t\t}\n\t\t\t\t \t}\n\t\t\t\t \t$(selector+' .error:first').focus();\n\t\t\t\t \tif (error_str) {\n\t\t\t\t \t\t$(selector).prepend('<div class=\"alert alert-danger\">'+error_str+'</div>');\n\t\t\t\t \t}\n\t\t\t \t} else {\n\t\t\t \t\tdocument.location = $(selector+' input[name=return_url]').val();\n\t\t\t \t}\n\t\t\t}, \n\t\t\turl: form_url  // override for form's 'action' attribute \n\t\t}; \n\t\t// bind form using 'ajaxForm' \n\t\t$(selector).ajaxForm(options);\n\t}); \n}\n\nwindow.setAjaxSubmit = setAjaxSubmit;\n\n/**\n * Submit'ina forma, ir atvaizduoja rezultata (template'a).\n */\n \nfunction submitAndReplace(form_selector, area_selector, template) {\n\tif ($(form_selector).length) {\n\t\tvar url = $(form_selector)[0].action;\n\t\tif (url.match(/\\?/)) {\n\t\t\turl += '&display='+template;\n\t\t} else {\n\t\t\turl += '?display='+template;\n\t\t}\n\t\tvar options = {\n\t\t\tbeforeSubmit : function() {\n\t\t\t\tajaxLoaderShow(area_selector);\n\t\t\t},\n\t\t\tsuccess : function(responseText){\n\t\t\t\tajaxLoaderHide(area_selector);\n\t\t\t\t$(area_selector).empty().before(responseText).remove();\n\t\t\t\t// $(area_selector).html(responseText);\n\t\t\t\t//$(area_selector).empty().html( $(responseText).find(area_selector).html() );\n\t\t\t},\n\t\t\turl : url\n\t\t};\n\t\t$(form_selector).ajaxForm(options);\n\t}\n}\n\nwindow.submitAndReplace = submitAndReplace;\n\nfunction ajaxLinks(link_selector, area_selector, template) {\n\t$(function(){\n\t\t$(link_selector).click(function(){\n\t\t\turl = this.href;\n\t\t\turl = url.replace(/#.*$/,'');\n\t\t\tif (url.match(/\\?/)) {\n\t\t\t\turl += '&';\n\t\t\t} else {\n\t\t\t\turl += '?';\n\t\t\t}\n\t\t\turl += 'display='+template;\n\t\t\t$.ajax({\n\t\t\t\tbeforeSend : function() {\n\t\t\t\t\tajaxLoaderShow(area_selector);\n\t\t\t\t},\n\t\t\t\turl: url,\n\t\t\t\tsuccess: function(html){\n\t\t\t\t\tajaxLoaderHide(area_selector);\n\t\t\t\t\t$(area_selector).empty().before(html).remove();\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn false;\n\t\t});\n\t});\t\n}\n\nwindow.ajaxLinks = ajaxLinks;\n\n/*\n * Dinamiskai atnaujinima (perkrauna) puslapio dali\n */\n \nfunction ajaxReplace(area_selector, template) {\n\t$(function(){\n\t\t$.ajax({\n\t\t\tbeforeSend : function() {\n\t\t\t\tajaxLoaderShow(area_selector);\n\t\t\t},\n\t\t\turl : '?display='+template,\n\t\t\tsuccess: function(html){\n\t\t\t\tajaxLoaderHide(area_selector);\n\t\t\t}\n\t\t});\n\t\treturn false;\n\t});\t\n}\n\nwindow.ajaxReplace = ajaxReplace;","/* php.js */\n\nfunction urlencode(str) {\n\tstr = (str + '')\n\t\t\t.toString();\n\n\treturn encodeURIComponent(str)\n\t\t\t.replace(/!/g, '%21')\n\t\t\t.replace(/'/g, '%27')\n\t\t\t.replace(/\\(/g, '%28')\n\t\t\t.\n\t\t\treplace(/\\)/g, '%29')\n\t\t\t.replace(/\\*/g, '%2A')\n\t\t\t.replace(/%20/g, '+');\n}\n\nwindow.urlencode = urlencode;\n\nfunction http_build_query(formdata, numeric_prefix, arg_separator) {\n\tvar value, key, tmp = [],\n\t\t\tthat = this;\n\n\tvar _http_build_query_helper = function (key, val, arg_separator) {\n\t\tvar k, tmp = [];\n\t\tif (val === true) {\n\t\t\tval = '1';\n\t\t} else if (val === false) {\n\t\t\tval = '0';\n\t\t}\n\t\tif (val != null) {\n\t\t\tif (typeof val === 'object') {\n\t\t\t\tfor (k in val) {\n\t\t\t\t\tif (val[k] != null) {\n\t\t\t\t\t\ttmp.push(_http_build_query_helper(key + '[' + k + ']', val[k], arg_separator));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn tmp.join(arg_separator);\n\t\t\t} else if (typeof val !== 'function') {\n\t\t\t\treturn that.urlencode(key) + '=' + that.urlencode(val);\n\t\t\t} else {\n\t\t\t\tthrow new Error('There was an error processing for http_build_query().');\n\t\t\t}\n\t\t} else {\n\t\t\treturn '';\n\t\t}\n\t};\n\n\tif (!arg_separator) {\n\t\targ_separator = '&';\n\t}\n\tfor (key in formdata) {\n\t\tvalue = formdata[key];\n\t\tif (numeric_prefix && !isNaN(key)) {\n\t\t\tkey = String(numeric_prefix) + key;\n\t\t}\n\t\tvar query = _http_build_query_helper(key, value, arg_separator);\n\t\tif (query !== '') {\n\t\t\ttmp.push(query);\n\t\t}\n\t}\n\n\treturn tmp.join(arg_separator);\n}\n\nfunction parse_str(str, array) {\n\tvar strArr = String(str)\n\t\t\t.replace(/^&/, '')\n\t\t\t.replace(/&$/, '')\n\t\t\t.split('&'),\n\t\t\tsal = strArr.length,\n\t\t\ti, j, ct, p, lastObj, obj, lastIter, undef, chr, tmp, key, value,\n\t\t\tpostLeftBracketPos, keys, keysLen,\n\t\t\tfixStr = function (str) {\n\t\t\t\treturn decodeURIComponent(str.replace(/\\+/g, '%20'));\n\t\t\t};\n\n\tif (!array) {\n\t\tarray = this.window;\n\t}\n\n\tfor (i = 0; i < sal; i++) {\n\t\ttmp = strArr[i].split('=');\n\t\tkey = fixStr(tmp[0]);\n\t\tvalue = (tmp.length < 2) ? '' : fixStr(tmp[1]);\n\n\t\twhile (key.charAt(0) === ' ') {\n\t\t\tkey = key.slice(1);\n\t\t}\n\t\tif (key.indexOf('\\x00') > -1) {\n\t\t\tkey = key.slice(0, key.indexOf('\\x00'));\n\t\t}\n\t\tif (key && key.charAt(0) !== '[') {\n\t\t\tkeys = [];\n\t\t\tpostLeftBracketPos = 0;\n\t\t\tfor (j = 0; j < key.length; j++) {\n\t\t\t\tif (key.charAt(j) === '[' && !postLeftBracketPos) {\n\t\t\t\t\tpostLeftBracketPos = j + 1;\n\t\t\t\t} else if (key.charAt(j) === ']') {\n\t\t\t\t\tif (postLeftBracketPos) {\n\t\t\t\t\t\tif (!keys.length) {\n\t\t\t\t\t\t\tkeys.push(key.slice(0, postLeftBracketPos - 1));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tkeys.push(key.substr(postLeftBracketPos, j - postLeftBracketPos));\n\t\t\t\t\t\tpostLeftBracketPos = 0;\n\t\t\t\t\t\tif (key.charAt(j + 1) !== '[') {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!keys.length) {\n\t\t\t\tkeys = [key];\n\t\t\t}\n\t\t\tfor (j = 0; j < keys[0].length; j++) {\n\t\t\t\tchr = keys[0].charAt(j);\n\t\t\t\tif (chr === ' ' || chr === '.' || chr === '[') {\n\t\t\t\t\tkeys[0] = keys[0].substr(0, j) + '_' + keys[0].substr(j + 1);\n\t\t\t\t}\n\t\t\t\tif (chr === '[') {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tobj = array;\n\t\t\tfor (j = 0, keysLen = keys.length; j < keysLen; j++) {\n\t\t\t\tkey = keys[j].replace(/^['\"]/, '')\n\t\t\t\t\t\t.replace(/['\"]$/, '');\n\t\t\t\tlastIter = j !== keys.length - 1;\n\t\t\t\tlastObj = obj;\n\t\t\t\tif ((key !== '' && key !== ' ') || j === 0) {\n\t\t\t\t\tif (obj[key] === undef) {\n\t\t\t\t\t\tobj[key] = {};\n\t\t\t\t\t}\n\t\t\t\t\tobj = obj[key];\n\t\t\t\t} else { // To insert new dimension\n\t\t\t\t\tct = -1;\n\t\t\t\t\tfor (p in obj) {\n\t\t\t\t\t\tif (obj.hasOwnProperty(p)) {\n\t\t\t\t\t\t\tif (+p > ct && p.match(/^\\d+$/g)) {\n\t\t\t\t\t\t\t\tct = +p;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tkey = ct + 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlastObj[key] = value;\n\t\t}\n\t}\n}\n\n\n// --> productFilter\n(function(options) {\n\t\n\t// Default'inė konfigūracija\n\tthis.opt = {\n\t\treplaceTemplate: 'content_types/products/listing.tpl',\n\t\treplaceContainer: 'div.pf-replace-container',\n\t\tfilterContainer: '#filter',\n\t\tfilterMenu: '#filter_menu',\n\t\tfilterToggleButton: '#filter .pf-toggle-menu',\n\t\tfilterClearAllButton: '#filter .pf-clear-all',\n\t\tfilterClearButton: '#filter .pf-clear',\n\t\tfilterRemoveButton: '#filter .pf-remove',\n\t\tfilterSetButton: '#filter .pf-set'\n\t};\n\t\n\tthis.filterHash = '';\n\t\n\tthis.initialized = false;\n\t\n\tthis.uri = document.location.search;\n\t\n\tthis.dopopstate = false;\n\t\n\t// Atidaro/uždaro filtrų meniu\n\tthis.toggleMenu = function (show, transition) {\n\t\tif (show === undefined) {\n\t\t\tshow = !$(this.opt.filterContainer).hasClass('is_shown');\n\t\t}\n\t\tif (transition === undefined) {\n\t\t\ttransition = true;\n\t\t}\n\t\tif (transition) {\n\t\t\t$(this.opt.filterContainer).removeClass('no-transition');\n\t\t} else {\n\t\t\t$(this.opt.filterContainer).addClass('no-transition');\n\t\t}\n\t\tif (show) {\n\t\t\t$(this.opt.filterContainer).addClass('is_shown');\n\t\t} else {\n\t\t\t$(this.opt.filterContainer).removeClass('is_shown');\n\t\t}\n\t};\n\t\n\t// Perkrauna 'filterContainer'\n\tthis.reload = function (url, params) {\n\t\tif (url === undefined) url = this.uri;\n\t\tif (params === undefined) params = {};\n\t\tparams.display = this.opt.replaceTemplate;\n\t\tvar pf = this;\n\t\tvar mobile_collapse_opened;\n\t\t$.ajax({\n\t\t\turl: url ? url : '?',\n\t\t\tdata: params,\n\t\t\tbeforeSend: function() {\n\t\t\t\t$('#ajax_loader').fadeIn();\n\t\t\t\t//$(pf.opt.replaceContainer).css('opacity',0.5);\n\t\t\t\t// atsimenam visas isskleistas filtru grupes\n\t\t\t\tmobile_collapse_opened = [];\n\t\t\t\t$(pf.opt.filterContainer).find('.list-collapse-mobile.open').each(function(){\n\t\t\t\t\tmobile_collapse_opened.push(this.id);\n\t\t\t\t});\n\t\t\t},\n\t\t\tsuccess: function(data){\n\t\t\t\tvar show_menu = $(pf.opt.filterContainer).hasClass('is_shown');\n\t\t\t\t$(pf.opt.replaceContainer).replaceWith(data).show();\n\t\t\t\tif (typeof init_components != 'undefined') {\n\t\t\t\t\tinit_components($(pf.opt.replaceContainer));\n\t\t\t\t}\n\t\t\t\tfor (i in mobile_collapse_opened) {\n\t\t\t\t\t$('#'+mobile_collapse_opened[i]).addClass('open');\n\t\t\t\t}\n\t\t\t\tpf.toggleMenu(show_menu, false);\n\t\t\t\t//$(pf.opt.replaceContainer).css('opacity',1);\n\t\t\t\t$('#ajax_loader').fadeOut();\n\t\t\t}\n\t\t});\n\t}\n\n\t// Pagal 'filterHash' grąžina filtrų reikšmes JSON formatu.\n\tthis.read = function () {\n\t\t// filtrai atskirti ';'\n\t\tvar filter = {};\n\t\tvar vars = this.filterHash ? this.filterHash.split(\";\") : [];\n\t\tfor (var i = 0; i < vars.length; i++) {\n\t\t\t// filtro ID nuo reikšmių atskirtas ':'\n\t\t\tvar vars2 = vars[i].split(\":\");\n\t\t\tif (vars2[1] !== undefined && vars2[1]!=='') {\n\t\t\t\t// kelios reikšmės atskirtos ','\n\t\t\t\tfilter[vars2[0]] = vars2[1].split(\",\");\n\t\t\t}\n\t\t}\n\t\treturn filter;\n\t};\n\t\n\tthis.updateURI = function (params) {\n\t\tif (typeof params === \"string\") {\n\t\t\tthis.uri = params;\n\t\t} else\n\t\tif (typeof params === \"object\") {\n\t\t\tvar vars = {};\n\t\t\tparse_str(this.uri.replace(/^\\?/,''), vars);\n\t\t\t$.extend(vars, params);\n\t\t\tthis.uri = '?'+http_build_query(vars);\n\t\t}\n\t\t\n\t\tvar url = window.location.href.replace(/\\?.*$/, '') + uri;\n\t\twindow.history.pushState({}, '', url);\n\t\t//window.history.replaceState({}, '', url);\n\t\tif ('state' in window.history && window.history.state !== null) {\t\n\t\t\tthis.dopopstate = true;\n\t\t\tthis.popstate();\n\t\t}\n\t}\n\n\t// Pagal paduotas filtrų reikšmes perrašo 'filterHash'.\n\t// filter:\tFiltrų reikšmės (JSON)\n\t// reload:\tAr iškart vykdysim ajax request'ą?\n\t//\t\t\tdefault: true\n\tthis.write = function (filter, reload) {\n\t\tif (reload === undefined) reload = true;\n\t\t\n\t\t// perrašom 'filterHash', pagal paduotas filtrų reikšmes ('filter')\n\t\tvar vars = new Array();\n\t\tfor (i in filter) {\n\t\t\tif (filter[i].length) {\n\t\t\t\tvars.push(i+':'+filter[i].join(','));\n\t\t\t}\n\t\t}\n\t\tthis.filterHash = vars.join(';');\n\t\t\n\t\t// Pakeiciam reikšmę address bar'e\n\t\tvar uri = this.uri\n\t\t\t.replace(/([&?])filter=.*?(&|$)/,'$1')\n\t\t\t.replace(/([&?])page=.*?(&|$)/,'$1')\n\t\t\t.replace(/&$/,'')\n\t\t\t.replace(/^\\?$/,'');\n\t\tif (filterHash) {\n\t\t\turi += (uri ? '&' : '?') + 'filter=' + filterHash;\n\t\t}\n\t\tthis.updateURI(uri);\n\t\t// Jei reikia, vykdom ajax request'ą\n\t\tif (reload) this.reload();\n\t};\n\t\n\t// Nustato konkretaus filtro reikšmę\n\t// type:\tFiltro ID\n\t// values:\tReikšmės atskirtos kableliais\n\t// reload:\tAr iškart vykdysim ajax request'ą?\n\t//\t\t\tdefault: true\n\tthis.set = function (type, values, reload) {\n\t\tif (reload === undefined) reload = true;\n\t\tvar filter = this.read();\n\t\tif (filter[type] === undefined) {\n\t\t\tfilter[type] = new Array();\n\t\t}\n\t\tfilter[type] = values ? values.toString().split(',') : [];\n\t\tthis.write(filter, reload);\n\t};\n\n\t// Papildo konkretų filtrą viena reikšme\n\t// type:\tfiltro ID\n\t// val:\t\tReikšmė\n\t// reload:\tAr iškart vykdysim ajax request'ą? \n\t//\t\t\tTuri reikšmę tik jeigu nenurodytas 'filter'. \n\t//\t\t\tDefault: true.\n\t// filter:\tFiltras kuri keičiam. Jeigu nenurodytas, imam iš filterHash\n\tthis.add = function (type, val, reload, filter) {\n\t\tvar write;\n\t\tif (reload === undefined) reload = true;\n\t\tif (filter === undefined) {\n\t\t\t// gaunam ir paskui nustatom filtrų reikšmes per 'filterHash'\n\t\t\tfilter = this.read();\n\t\t\twrite = true;\n\t\t} else {\n\t\t\t// jeigu filtras paduotas per parametrą, 'filterHash' nekeisim.\n\t\t\twrite = false;\n\t\t}\n\t\tif (filter[type] === undefined) {\n\t\t\tfilter[type] = new Array();\n\t\t}\n\t\tfilter[type].push(val);\n\t\t\n\t\t// Jeigu filtro reikšmes ėmėme iš 'filterHash'...\n\t\tif (write) {\n\t\t\t// keičiam 'filterHash', address bar reikšmę, ir (jei reikia) vykdom ajax request'ą\n\t\t\tthis.write(filter, reload);\n\t\t}\n\t\t\n\t\treturn filter;\n\t};\n\n\t// Pašalina iš 'filterHash' vieną nurodyto filtro nurodytą reikšmę.\n\t// type:\tfiltro ID\n\t// val:\t\treikšmė\n\t// reload:\tar iškart vykdysim ajax request'ą?\n\t//\t\t\tdefault: true\n\tthis.remove = function(type, val, reload) {\n\t\tif (reload === undefined) reload = true;\n\t\t\n\t\t// gaunam filtrų reikšmes (JSON) pagal 'filterHash'\n\t\tvar filter = this.read();\n\t\t\n\t\t// ar egzistuoja nurodytas filtras?\n\t\tif (filter[type] == undefined) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t// pašalinam nurodytą reikšmę\n\t\tfor (i in filter[type]) {\n\t\t\tif (filter[type][i]==val) {\n\t\t\t\tfilter[type].splice(i,1);\n\t\t\t}\n\t\t}\n\t\t\n\t\t// keičiam 'filterHash', address bar reikšmę, ir (jei reikia) vykdom ajax request'ą\n\t\tthis.write(filter, reload);\n\t};\n\n\t// Pašalina iš 'filterHash' nurodytą filtrą.\n\t// type:\tfiltro ID\n\t//\t\t\tdefault: true\n\t// reload:\tar iškart vykdysim ajax request'ą?\n\tthis.clear = function (type, reload) {\n\t\tif (reload === undefined) reload = true;\n\t\t\n\t\t// gaunam filtrų reikšmes (JSON) pagal 'filterHash'\n\t\tvar filter = this.read();\n\t\tif (filter[type] === undefined) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t// pašalinam nurodytą filtrą\n\t\tdelete filter[type];\n\t\t\n\t\t// keičiam 'filterHash', address bar reikšmę, ir (jei reikia) vykdom ajax request'ą\n\t\tthis.write(filter, reload);\n\t};\n\n\t// Išvalo visus filtrus\n\t// reload:\tar iškart vykdysim ajax request'ą?\n\t//\t\t\tdefault: true\n\tthis.clearAll = function (reload) {\n\t\tif (reload === undefined) reload = true;\n\t\tvar filter = {};\n\t\tthis.write(filter, reload);\n\t};\n\n\tthis.popstate = function() {\t\t\n\t\tif (this.dopopstate) {\n\t\t\twindow.addEventListener(\"popstate\", function(e) {\t\n\t\t\t\tvar matches = document.location.search.match(/(?:\\?|&)?filter=(.*?)(?:&|$)/);\n\t\t\t\twindow.productFilter.filterHash = matches ? decodeURIComponent(matches[1]) : '';\n\t\t\t\twindow.productFilter.reload(document.location.search);\n\t\t\t});\n\t\t}\n\t}\n\n\t// inicializuojam filtrą\n\tthis.init = function(options) {\n\t\tif (this.initialized) return;\n\t\tthis.initialized = true;\n\t\t\n\t\t// konfiguracija\n\t\t$.extend(this.opt, options);\n\t\t\n\t\t// nuskaitom 'filterHash' iš address bar'o\n\t\tvar matches = window.location.search.match(/(?:\\?|&)?filter=(.*?)(?:&|$)/);\n\t\tthis.filterHash = matches ? decodeURIComponent(matches[1]) : '';\n\t\t\n\t\t// filtru meniu\n\t\tvar pf = this;\n\t\t$(document).on('click', this.opt.filterToggleButton, function(e){\n\t\t\te.preventDefault();\n\t\t\tpf.toggleMenu();\n\t\t});\n\t\t\n\t\tvar pf = this;\n\t\t\n\t\t// filtro nustatymo mygtukai\n\t\t$(document).on('click', this.opt.filterSetButton, function(e){\n\t\t\te.preventDefault();\n\t\t\tvar $this = $(this);\n\t\t\tvar type = $this.data('ftype');\n\t\t\tvar value = $this.data('fvalue');\n\t\t\tif ($this.is('.active')) {\n\t\t\t\tpf.remove(type, value);\n\t\t\t} else {\n\t\t\t\tpf.add(type, value);\n\t\t\t}\n\t\t});\n\t\t\n\t\t// filtro išvalymo mygtukai\n\t\t$(document).on('click', this.opt.filterRemoveButton, function(e){\n\t\t\te.preventDefault();\n\t\t\tvar $this = $(this);\n\t\t\tvar type = $this.data('ftype');\n\t\t\tvar value = $this.data('fvalue');\n\t\t\tpf.remove(type, value);\n\t\t});\n\t\t\n\t\t// filtro išvalymo mygtukai\n\t\t$(document).on('click', this.opt.filterClearButton, function(e){\n\t\t\te.preventDefault();\n\t\t\tvar type = $(this).data('ftype');\n\t\t\tif (type === undefined) return;\n\t\t\tif (type=='price') {\n\t\t\t\tpf.clear('price0', false);\n\t\t\t\tpf.clear('price1', false);\n\t\t\t\tpf.reload();\n\t\t\t} else {\n\t\t\t\tpf.clear(type, true);\n\t\t\t}\n\t\t});\n\t\t\n\t\t// filtro išvalymo mygtukai\n\t\t$(document).on('click', this.opt.filterClearAllButton, function(e){\n\t\t\te.preventDefault();\n\t\t\tpf.clearAll(true);\n\t\t});\n\t\t\n\t\tthis.popstate();\n\t\t\n\t};\n\t\n\twindow.productFilter = this;\n})();\n// <-- productFilter","// Media queries breakpoints\nvar screen_xs = 480;\nvar screen_xs_min = screen_xs;\nvar screen_phone = screen_xs_min;\nvar screen_sm = 768;\nvar screen_sm_min = screen_sm;\nvar screen_tablet = screen_sm_min;\nvar screen_md = 992;\nvar screen_md_min = screen_md;\nvar screen_desktop = screen_md_min;\nvar screen_lg = 1200;\nvar screen_lg_min = screen_lg;\nvar screen_lg_desktop = screen_lg_min;\nvar screen_xs_max = (screen_sm_min - 1);\nvar screen_sm_max = (screen_md_min - 1);\nvar screen_md_max = (screen_lg_min - 1);\n\nfunction get_vw() {\n\treturn Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n}\n\nfunction get_vh() {\n\treturn Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n}\n\nfunction ajaxnav(params) {\n    // ajaxnav(url, container, template, update_address, append_history)\n    if (typeof params !== 'object') {\n        params = {\n            url: arguments[0],\n            container: arguments[1],\n            template: arguments[2],\n            update_address: arguments[3] !== undefined ? arguments[3] : true,\n            append_history: arguments[4] !== undefined ? arguments[4] : true,\n        }\n    }\n\n\t// uzpidom default'iniais parametrais\n\tparams = $.extend({\n\t\tupdate_address: true,\n\t\tappend_history: true,\n\t\tmethod: 'GET',\n\t\tdata: {},\n\t\terror: function(data, textStatus, jqXHR) {\n\t\t\t$('#ajax_loader').hide();\n\t\t\tif (params.callback !== undefined) {\n\t\t\t\tparams.callback(data, textStatus, jqXHR);\n\t\t\t}\n\t\t},\n\t\tsuccess: function(data, textStatus, jqXHR) {\n\t\t\t$('#ajax_loader').hide();\n\t\t\tif (typeof data == 'object') {\n\t\t\t\tif (data.reload === true) {\n\t\t\t\t\t$('#ajax_loader').show();\n\t\t\t\t\twindow.location.href = data.url;\n\t\t\t\t} else {\n\t\t\t\t\tajaxnav($.extend({\n\t\t\t\t\t\tcontainer: params.container,\n\t\t\t\t\t\ttemplate: params.template,\n\t\t\t\t\t\tupdate_address: params.update_address,\n\t\t\t\t\t\tappend_history: params.append_history\n\t\t\t\t\t}, data));\n\t\t\t\t}\n\t\t\t} else\n\t\t\tif (typeof data == 'string') {\n\t\t\t\tif (params.container !== undefined) {\n\t\t\t\t\t$data = $(data);\n\t\t\t\t\tif (!$data.attr('id')) {\n\t\t\t\t\t\t$data.attr('id', 'id-' + Math.random().toString(36).substr(2, 16));\n\t\t\t\t\t}\n\t\t\t\t\t$previous = $(params.container).replaceWith($data);\n\t\t\t\t\tinit_components($data);\n                    if (params.update_address) {\n                        var pso = {\n                            template: params.template,\n                            container: params.container\n                        }\n                        var final_url = jqXHR.getResponseHeader('X-AJAXNAV-URL');\n                        if (!final_url) final_url = params.url;\n                        if (params.append_history) {\n                            // window.history.replaceState(pso, '', window.location);\n                            window.history.pushState(pso,'', final_url);\n                        } else {\n                            window.history.replaceState(pso,'', final_url);\n                        }\n                    }\n\t\t\t\t}\n\t\t\t\tif (params.callback !== undefined) {\n\t\t\t\t\tparams.callback(data, textStatus, jqXHR);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, params);\n\n\t// vykdom ajax request'a\n\t$.ajax({\n\t\turl: params.url + (!params.url.match(/\\?/) ? '?' : (!params.url.match(/&$/) ? '&' : '')) + 'display=' + params.template,\n\t\tmethod: params.method,\n\t\tdata: params.data,\n\t\tsuccess: params.success,\n\t\tbeforeSend: function() {\n\t\t\t$('#ajax_loader').show();\n\t\t},\n\t});\n}\n\nwindow.ajaxnav = ajaxnav;\n\nfunction init_fancybox(context) {\n\t// fancybox\n\t$(\".fancybox\", context).fancybox({\n\t\twidth : '70%',\n\t\theight : '100%',\n\t\tautoSize : false,\n\t\tfitToView : false\n\t});\n\t$('a[rel^=\"fancybox\"]', context).fancybox();\n}\n\nfunction init_tooltips(context) {\n\t// tooltip\n\t$('[data-toggle=\"tooltip\"]', context).tooltip();\n}\n\nfunction init_selectpicker(context) {\n    // selectpicer\n    // selectpicer\n    if( /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent) ) {\n        $('.selectpicker', context).selectpicker('mobile');\n    } else {\n        $('.selectpicker', context).selectpicker();\n    }\n    /*{\n        'width':'100%',\n    }).addClass('select-default').selectpicker('setStyle');*/\n\n}\n\nfunction init_components(context) {\n\tinit_fancybox(context);\n\tinit_tooltips(context);\n\tinit_selectpicker(context);\n}\n\nwindow.init_components = init_components;\n\nfunction init_scrollup() {\n\tif ($('#scrollup').length) {\n\t\t$(document).on('click', '#scrollup', function(){\n\t\t\t$(\"html, body\").animate({ scrollTop: 0 }, \"slow\");\n\t\t});\n\t\tfunction check_scrollup() {\n\t\t\t$('#scrollup').stop();\n\t\t\tif ($(window).scrollTop() > 200) {\n\t\t\t\t$('#scrollup').fadeIn();\n\t\t\t} else {\n\t\t\t\t$('#scrollup').fadeOut();\n\t\t\t}\n\t\t}\n\t\tcheck_scrollup();\n\t\t$(window).scroll(check_scrollup);\n\t}\n}\n\nfunction init_quantity_control() {\n\t// quantity-control ([-][?][+])\n\t$(document).on('click', 'div.quantity_control .plus, div.quantity_control .minus', function(e) {\n\t\tvar $input = $(this).parents('.quantity_control').find('input');\n\t\tvar val = parseInt($input.val()) || 1;\n\t\tif ($(this).is('.minus')) {\n\t\t\tval--;\n\t\t} else {\n\t\t\tval++;\n\t\t}\n\t\tvar min_val = $input.data('min') !== undefined ? $input.data('min') : 1;\n\t\tvar max_val = $input.data('max') !== undefined ? $input.data('max') : 999;\n\t\tif (val < min_val) val = min_val;\n\t\tif (val > max_val) val = max_val;\n\t\t$input.val(val);\n\t});\n}\n\nfunction init_ajaxnav() {\n\t// ajaxnav\n\t$(document).on('click', '[data-ajaxnav=\"true\"]:not(form)', function(e){\n\t\tvar url = this.href !== undefined ? this.href : $(this).data('ajaxnav-url');\n        var callback = $(this).data('ajaxnav-callback');\n\t\tif (url) {\n\t\t\te.preventDefault();\n\t\t\tajaxnav({\n\t\t\t\turl: url,\n\t\t\t\tcontainer: $(this).data('ajaxnav-container'), \n\t\t\t\ttemplate: $(this).data('ajaxnav-template'),\n                callback: function(){\n                    if (typeof window[callback] == 'function') {\n                        window[callback]();\n                    }\n                }\n\t\t\t});\n\t\t}\n\t});\n\t\n\t$(document).on('submit', 'form[data-ajaxnav=\"true\"]', function(e){\n\t\tvar url = this.action ? this.action : ($(this).data('ajaxnav-url') ? $(this).data('ajaxnav-url') : '');\n        var callback = $(this).data('ajaxnav-callback');\n\t\te.preventDefault();\n\t\tajaxnav({\n\t\t\turl: url, \n\t\t\tmethod: this.method ? this.method.toUpperCase() : 'GET',\n\t\t\tdata: $(this).serialize(), \n\t\t\tcontainer: $(this).data('ajaxnav-container'), \n\t\t\ttemplate: $(this).data('ajaxnav-template'),\n            callback: function(){\n                if (typeof window[callback] == 'function') {\n                    window[callback]();\n                }\n            }\n\t\t});\n\t\treturn false;\n\t});\n\t\n\twindow.onpopstate = function(event) {\n\t\tif (event.state && event.state.container && event.state.template) {\n\t\t\tajaxnav(window.location.href, event.state.container, event.state.template, false);\n\t\t} else {\n\t\t\t$('#ajax_loader').show();\n\t\t\twindow.location.reload();\n\t\t}\n\t};\n\t\n}\n\nfunction init_list_collapse() {\n\tfunction list_collapse($list) {\n\t\t$list.toggleClass('open');\n\t}\n\t$(document).on('click', 'div.list-collapse > .title', function(e){\n\t\te.preventDefault();\n\t\tlist_collapse($(this).parent());\n\t});\n\t$(document).on('click', 'div.list-collapse-mobile > .title', function(e){\n\t\tif (get_vw() <= screen_sm_max) {\n\t\t\te.preventDefault();\n\t\t\tlist_collapse($(this).parent());\n\t\t}\n\t});\n\t$(document).on('click', 'div.list-collapse-desktop > .title', function(e){\n\t\tif (get_vw() >= screen_md_min) {\n\t\t\te.preventDefault();\n\t\t\tlist_collapse($(this).parent());\n\t\t}\n\t});\n}\n\nfunction init_list_dropdown() {\n\tfunction list_dropdown_click($list) {\n\t\t// jeigu click'as ivyko 100ms po hoverio, reikia uzdaryti drop-down'a\n\t\tif ($list.is('.hover') && ($list.data('hovertime') < (new Date()).getTime() - 100)) {\n\t\t\t$list.removeClass('hover');\n\t\t} else {\n\t\t\t$list.addClass('hover');\n\t\t}\n\t}\n\tfunction list_dropdown_enter($list) {\n\t\t$list.addClass('hover').data('hovertime', (new Date()).getTime());\n        var submenu = $list.children('.submenu_list');\n\t\t\n\t\tvar maxheight = $(window).height() - (submenu.offset().top - $(document).scrollTop()) - 20;\n\t\tsubmenu.find('> ul').css('max-height', maxheight);\n\t\t//submenu.find('> ul').niceScroll({autohidemode:false});\n\n\t\tif (submenu.length > 0) {\n\t\t\tvar browser_width = $(document).outerWidth(true);\n\t\t\tvar element_width = submenu.width();\n\t\t\tvar offset_left = submenu.offset().left;\n\t\t\tvar offset_right = browser_width - element_width - offset_left;\n\t\t\tif (offset_right > element_width) {\n\t\t\t\tsubmenu.css({'left': '0px', 'right': 'auto'});\n\t\t\t} else {\n\t\t\t\tsubmenu.css({'right': '0px', 'left': 'auto'});\n\t\t\t}\n\t\t}\n\t}\n\tfunction list_dropdown_leave($list) {\n\t\tvar hovertime = $list.data('hovertime');\n\t\tvar hover_delay = $list.data('hover-delay') ? $list.data('hover-delay') : 0;\n\t\tvar $dropdown = $list;\n\t\tsetTimeout(function(){\n\t\t\t// patikrinam, ar siuo metu dropdown'as tikrai neturetu buti rodomas\n\t\t\tif ($dropdown.data('hovertime') == hovertime) {\n\t\t\t\t$dropdown.removeClass('hover');\n\t\t\t}\n\t\t}, hover_delay);\n\t}\n\n\t// div.list-dropdown\n    if (get_vw() > screen_sm_max) {\n        $(document).on('click', 'div.list-dropdown > .title', function(){\n            list_dropdown_click($(this).parent());\n        });\n        $(document).on('mouseenter', 'div.list-dropdown', function(){\n            list_dropdown_enter($(this));\n        });\n        $(document).on('mouseleave', 'div.list-dropdown', function(){\n            list_dropdown_leave($(this));\n        });\n\t}\n\n\t// div.list-dropdown-mobile\n\t$(document).on('click', 'div.list-dropdown-mobile > .title', function(){\n\t\tif (get_vw() <= screen_sm_max) {\n\t\t\tlist_dropdown_click($(this).parent());\n\t\t}\n\t});\n\t$(document).on('mouseenter', 'div.list-dropdown-mobile', function(){\n\t\tif (get_vw() <= screen_sm_max) {\n\t\t\tlist_dropdown_enter($(this));\n\t\t}\n\t});\n\t$(document).on('mouseleave', 'div.list-dropdown-mobile', function(){\n\t\tif (get_vw() <= screen_sm_max) {\n\t\t\tlist_dropdown_leave($(this));\n\t\t}\n\t});\n\n\t// div.list-dropdown-desktop\n\t$(document).on('click', 'div.list-dropdown-desktop > .title', function(){\n\t\tif (get_vw() >= screen_md_min) {\n\t\t\tlist_dropdown_click($(this).parent());\n\t\t}\n\t});\n\t$(document).on('mouseenter', 'div.list-dropdown-desktop', function(){\n\t\tif (get_vw() >= screen_md_min) {\n\t\t\tlist_dropdown_enter($(this));\n\t\t}\n\t});\n\t$(document).on('mouseleave', 'div.list-dropdown-desktop', function(){\n\t\tif (get_vw() >= screen_md_min) {\n\t\t\tlist_dropdown_leave($(this));\n\t\t}\n\t});\n\n    if (get_vw() >= screen_md_min) {\n        $('.list-dropdown li.has_child').hover(\n            function() {\n                $(this).addClass('hover');\n\n                var browser_width = $(document).outerWidth(true);\n                var parent_width = $(this).width();\n                var child = $(this).children('ul');\n                var child_width = child.width();\n                var offset_left = $(this).offset().left;\n                var offset_right = browser_width - parent_width - offset_left;\n\n                if (offset_right > child_width) {\n                    child.css('left', $(this).width() + 'px');\n                    child.css('right', 'auto');\n                } else {\n                    child.css('right', $(this).width() + 'px');\n                    child.css('left', 'auto');\n                }\n            },\n            function() {\n                $(this).removeClass('hover');\n            }\n        );\n\n    }\n    $(document).on('mouseleave', '.list-dropdown li.hover', function() {\n        if (get_vw() >= screen_md_min) {\n            var parent = $(this).parent('li');\n            parent.removeClass('hover');\n        }\n    });\n}\n\nfunction update_wishlist_info() {\n\t$.ajax({\n\t\turl: '?display=content_types/wishlist/wishlist_info',\n\t\tmethod: 'post',\n\t\tsuccess: function(html) {\n\t\t\t$('#wishlist_info').replaceWith(html);\n\t\t}\n\t});\n}\n\nfunction init_wishlist() {\n\t$(document).on('click', '.add_to_wishlist', function(e){\n\t\te.preventDefault();\n\t\tvar el = $(this);\n\t\tif(el.data('id') == \"\"){\n            alert ($alert_message);\n\t\t} else {\n            $.ajax({\n                url: '?display=content_types/wishlist/update_wishlist',\n                data: {element_id: el.data('id')},\n                method: 'post',\n                dataType: 'json',\n                success: function (json) {\n                    if (json.status > 0) {\n                        el.addClass('active');\n                    } else if (json.status < 0) {\n                        el.removeClass('active');\n                    }\n                    update_wishlist_info();\n                }\n            });\n        }\n\t});\n}\n\nfunction doModal(content) {\n\thtml =  '<div id=\"dynamicModal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"confirm-modal\" aria-hidden=\"true\">';\n\thtml += '<div class=\"modal-dialog\">';\n\thtml += '<div class=\"modal-content\">';\n\thtml += '<div class=\"modal-body\">';\n\thtml += '<a class=\"close\" data-dismiss=\"modal\">×</a>';\n\thtml += content;\n\thtml += '</div>'; \t// body\n\thtml += '</div>';  \t// content\n\thtml += '</div>';  \t// dialog\n\thtml += '</div>';  \t// modal\n\t$('body').append(html);\n\t$(\"#dynamicModal\").modal();\n\t$(\"#dynamicModal\").modal('show');\n\t$('#dynamicModal').on('hidden.bs.modal', function (e) {\n\t\t$(this).remove();\n\t});\n}\n\nfunction init_authorize() {\n\t$(document).on('click', '.need2login', function(e) {\n\t\te.preventDefault();\n\t\tajaxnav({\n\t\t\turl: window.location.href,\n\t\t\ttemplate: 'content_types/customers/authorize',\n\t\t\tcallback: function(html) {\n\t\t\t\tdoModal(html);\n\t\t\t}\n\t\t});\n\t});\n}\n\nfunction rotateMenuIcon(x) {\n\tx.classList.toggle(\"change\");\n}\n\nwindow.rotateMenuIcon = rotateMenuIcon;\n\n$(function(){\n\tinit_components(document);\n\tinit_scrollup();\n\tinit_quantity_control();\n\tinit_ajaxnav();\n\tinit_list_collapse();\n\tinit_list_dropdown();\n\tinit_authorize();\n\tinit_wishlist();\n});\n\n// Hide header on scroll down, show on scroll up\n$(function () {\n\tvar didScroll;\n\tvar lastScrollTop = 0;\n\tvar delta = 5;\n\tvar navbarHeight = $('nav').outerHeight();\n\n\tsetTimeout(function() {\n\t\tupdate_nav_top();\n\t}, 300);\n\n\t$(window).on('resize', function() {\n\t\tupdate_nav_top();\n\t});\n\n\t$(window).scroll(function(event){\n\t\tdidScroll = true;\n\t});\n\n\tif ($(window).width() >= 768) {\n\t\tsetInterval(function () {\n\t\t\tif (didScroll) {\n\t\t\t\thasScrolled();\n\t\t\t\tdidScroll = false;\n\t\t\t}\n\t\t}, 250);\n\t}\n\n\tfunction hasScrolled() {\n\t\tvar st = $(this).scrollTop();\n\n\t\t// Make sure they scroll more than delta\n\t\tif(Math.abs(lastScrollTop - st) <= delta)\n\t\t\treturn;\n\n\t\t// If they scrolled down and are past the navbar, add class .nav-up.\n\t\t// This is necessary so you never see what is \"behind\" the navbar.\n\t\tif (st > lastScrollTop && st > navbarHeight){\n\t\t\t// Scroll Down\n\t\t\t$('nav').removeClass('nav-down').addClass('nav-up');\n\t\t} else {\n\t\t\t// Scroll Up\n\t\t\tif(st + $(window).height() < $(document).height()) {\n\t\t\t\t$('nav').removeClass('nav-up').addClass('nav-down');\n\t\t\t}\n\t\t}\n\n\t\tlastScrollTop = st;\n\t}\n\n\t$(document).on('click', 'div.list-collapse-mobile > .title', function(e){\n\t\tif (get_vw() <= screen_sm_max) {\n\t\t\tvar header_height = $('header').height();\n\t\t\tif ($('.linepromos').length) {\n\t\t\t\tvar promo_height = $('.linepromos').height();\n\t\t\t} else {\n\t\t\t\tvar promo_height = 0;\n\t\t\t}\n\t\t\tvar nav_top = header_height + promo_height;\n\n\t\t\t$('#pages_mega_menu #mega_menu .list-dropdown .submenu_list').css('top', nav_top + 'px');\n\t\t}\n\t});\n\n\tfunction update_nav_top() {\n\t\tvar header_height = $('header').height();\n\t\tif ($('.linepromos').length) {\n\t\t\tvar promo_height = $('.linepromos').height();\n\t\t} else {\n\t\t\tvar promo_height = 0;\n\t\t}\n\t\tvar nav_top = header_height + promo_height;\n\t\tvar submenu_height = get_vh();\n\n\t\tif (get_vw() >= screen_md_min) {\n\t\t\t$('nav').css('top', nav_top + 'px');\n\t\t\tcontent_padding = 0;\n\t\t} else {\n\t\t\t$('nav, #pages_mega_menu #mega_menu .list-dropdown .submenu_list, #pages_mega_menu #mega_menu .list-dropdown .row.level-3').css('top', nav_top + 'px');\n\t\t\tcontent_padding = promo_height;\n\t\t}\n\n\t\t$('#content_layout').css('padding-top', content_padding + 'px');\n\t\tsubmenu_height = submenu_height - nav_top;\n\n\t\tif (get_vw() <= screen_sm_max) {\n\t\t\t$('nav').css('height', submenu_height + 'px');\n\t\t} else {\n\t\t\t$('nav').css('height', '');\n\t\t}\n\t}\n});","","// startup\n// Load entry module and return exports\n__webpack_modules__[\"./resources/js/ajax_submit.js\"]();\n__webpack_modules__[\"./resources/js/frontend/frontend.js\"]();\n__webpack_modules__[\"./resources/js/frontend/filters.js\"]();\n// This entry module doesn't tell about it's top-level declarations so it can't be inlined\nvar __webpack_exports__ = {};\n__webpack_modules__[\"./resources/scss/frontend.scss\"]();\n",""],"names":[],"sourceRoot":""}